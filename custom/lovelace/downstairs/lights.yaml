# Lights ************************************
- entities:
  - light.side_light
  - light.tv_light
  - light.table_light
  - light.main_light
  - light.front_door_lights
  tap_action: 'toggle'
  double_tap_action: more-info
  state_action:
    - action: call-service
      service: floorplan.class_set
      service_data: 'light-${entity.state}'
    - action: call-service
      service: floorplan.style_set
      service_data:
        element: "${entity.entity_id.replace('light.', 'light_overlay.')}"
        style: |
            >
            if( entity.state !== "on" )
                return "display: none;";
            let hue = 0;
            let sat = 0;
            if( entity.attributes.hs_color )
            {
                hue = entity.attributes.hs_color[0];
                sat = entity.attributes.hs_color[1];
            }
            let brightness = entity.attributes.brightness / 255
            if( sat < 10 )
            {
              return `
                display: block;
                opacity: ${brightness};`
            }
            return `
              display: block;
              opacity: ${brightness};
              filter:
                sepia(100%)
                hue-rotate(calc( ${hue}deg - 55deg ))
                saturate(calc( ${sat}% * 2 ));` 
                
- entities:
  - light.side_light
  - light.tv_light
  - light.table_light
  - light.main_light
  - light.front_door_lights
  element: "${entity.entity_id.replace('light.', 'light_touch.')}"
  tap_action: 'toggle'
  double_tap_action: more-info
